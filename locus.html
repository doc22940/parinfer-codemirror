<!doctype html>
<html>
<head>
  <link rel="stylesheet" href="libs/codemirror/lib/codemirror.css">
  <script src="libs/codemirror/lib/codemirror.js"></script>
  <script src="libs/codemirror/mode/clojure/clojure.js"></script>
  <script src="libs/parinfer.js"></script>
  <script src="libs/raphael.js"></script>
  <script src="parinfer-codemirror.js"></script>

  <style>
    body { padding: 100px; }
    .parinfer-error { background: #FFBEBE; color: black !important; }
    .parinfer-paren-trail { opacity: 0.4; }

    .CodeMirror {
      border: 1px solid #aaa;
      padding: 10px;
      height: 200px;
      line-height: 18px;
    }

    .parinfer-locus-paren {
      visibility: hidden;
    }
    .parinfer-locus {
      opacity: 0.1;
      pointer-events: none;
    }
  </style>

</head>
<body>
  <script>
(function(){

var cm = CodeMirror(document.body);

cm.setValue(`
(defn foo
  "hello, this is a docstring"
  [a b]
  (let [sum (+ a b)
        prod (* a b)]
     {:sum sum
      :prod prod}))
`);

parinferCodeMirror.init(cm, 'smart', {locus: true});

})();
  </script>
</body>
</html>
